Business intelligence--
BI is a technology or a process from which we can convert raw data into meaningful information.
It is also called as descriptive analysis because it will tell how ur business is performing today
and how it will performin future.

The 4 steps which gets automatically involved when we deal with bi are--
1.data mining -conversion of raw data into meaningful info.
2analytical processing--in real world we can deal with multiple data sources.
in that case we require analytical processing.
3development-app development accor to requirement.
4visualization

Self service bi--
it is an approach to data analytics that enables business users toaccess and 
explore datasets even if theydont have  a background in bi. 
These tools allow users to filter,sort analyze and visualize data without involving
anorganization's bi and it teams.
Egs of self-service bi toolsare
microsoft power bi,ibm,google's looker unit,etc

power bi tool--
It is a data visualization and bi tool developed by microsoft that converts data 
from different data sources to interactive dashboards and bi reports.

keyfeatures are--
interactive power bi desktop, customized visualization,visibility, self service bi


Power bi product suit--
pbi desktop,pbi pro,pbi premium,pbi mobile,
pbi embedded,pbi report server.

we will be working with pbi desktop. Its free ofuse andeasy
to install. The 1st step here is to get the data either locally,
or from theweb.There are many options available.
If the data has multiple tables,then we can change the cardinality,
the relationship in the table,etc.

the pbi pro and pbi premium. This is the licensed version.
This is available on pay.Pro is for personal use,premium is for 
organization's use.

pbi mobile--u can download this from google playstore and use it.

pbi embedded--it willembedd ur visuals,reports,dashboards, on any organization applications
or any website.

powerbi report server--u can store yur data locally on ur infrastructure.No
need of paying for cloud storage.

power bi service platform is available on cloud.

------Power bi workflow---
data sources--->data connectors--->data model---visualize-->pbi desktop--->publish--->on pbi service or pbi mobile app

pbi components --
power pivot, power query,power view,power map,
power bi desktop,power Q&A.


power pivot is used for modelling. I f u want to do referencing,
from 1 table to another table,join,etc then power pivot is used.

pwer query-- if we want to do modification in our table,
lets say we have 5 cols, i want to add another col, 

power view-- for visualization

power map for geographical data

power desktop has all above

power q and a--ask ques in natural lang. Itcan give some chart 
accr to question.


building blocks of power bi--
data sets,visualization,reports,dashboards,tiles

tiles is the boundary between the reports.

----------

Open pbi desktop and start explaining from the start yellow color window.

Then,tell about report view-----which deals with visualization.

then data view-- from here u can modify yor data like add or delete col. U get to see data tables,
measures, and other data used in your data model and transform the data for best use in the reports.


then,relationship or model view---- tab or relationship tab for maintaining relationships between tables in dataset..

report view is the default view.

Then u can show file-->options and settings-->for starting python scripting,

in model tab-- there is manage relationship and manage roles.
This is available in security tab.
 
---------
power bi doesnot accept signin from gmail or yahoo account.
It requires organizational domain name to integrate power bi 
desktop with power bi service.

1.-Understanding problem stmt--------------

*************SuperRetailerData excel file---

The data analysis lifecycle has--
data gathering,data cleansing,data transformation,EDA,Visualization
All these is done on past data.
We do predictive analysis in future.

This organization is a retailer who sells variety of ready to wear clothes shoes and accessoires
Becuse this retailer is selling variety of products,let us call this retailer a super retailer for all home and shopping.

An australian retails sales organization wants to use data driven decision making for
creating revenue growth mgmt strategies . 




Contents--
getting started with power bi
data sources in power bi desktop
connecting to a data source
query editor in power bi 
clean and transform data
merging and appending
cleaning irregularly formatted data


#----------------------------------------
Top 5 advantage of powerBI
1.Visualization
Power BI provides interactive and visually appealing dashboards and reports to help you easily analyze and understand data.
Power BI provides a variety of visualizations, including charts, graphs, maps, tables, and KPIs, to help users understand and communicate insights from their data.
It also provides a suite of advanced analytics tools, such as drill-through, cross-filtering, and data exploration, to help users uncover hidden patterns and relationships in their data.
 
2.Data Connectivity
Power BI provides data transformation capabilities, such as Power Query, which allows users to clean, shape, and transform data before it is loaded into Power BI.This allows users to ensure that their data is properly formatted and ready for analysis, making it easier to create meaningful insights and reports.
Power BI supports direct connections to many popular data sources, including:
SQL Server
Azure SQL Database
Oracle
Salesforce
SharePoint
Google Analytics
Dynamics 365
Amazon Redshift

3.Real-Time Data
Power BI provides support for real-time data streaming and visualization, allowing organizations to get a real-time view of their data as it arrives.
With real-time data streaming in Power BI, users can create real-time dashboards that update automatically as new data is received.
This can be useful in a variety of scenarios, such as monitoring the performance of a manufacturing plant, tracking the status of a delivery fleet, or monitoring social media sentiment.

4. Collaboration
Power BI provides several tools for collaboration, making it easier for teams to work together on reports and dashboards. Some of the key collaboration features in Power BI include
Sharing: Power BI allows users to share reports and dashboards with other users, either within their organization or with external partners.
Workspaces: Power BI Workspaces provide a way for teams to collaborate on a set of reports and dashboards.
Version Control: Power BI provides version control for reports and dashboards, allowing users to track changes and revert to previous versions if necessary.
Commenting: Power BI allows users to add comments to reports and dashboards, making it easier to have discussions and provide feedback on specific visualizations and insights.

5.Scalability
Some of the key scalability features in Power BI include:
Cloud-based: Power BI is a cloud-based solution, which provides a highly scalable infrastructure and eliminates the need for organizations to maintain their own hardware and software.
Data Capacity: Power BI has a large data capacity, allowing users to import and analyze large amounts of data.
Power Platform: Power BI is part of the Power Platform, a low-code/no-code platform for building custom business applications.
Performance Optimization: Power BI provides performance optimization tools, such as DirectQuery, Power BI Report Server, and Power BI Premium, which allow users to achieve optimal performance for their reports and dashboards.

Flow of Power BI
A dataflow is a collection of tables that are created and managed in workspaces in the Power BI service. A table is a set of columns that are used to store data, much like a table within a database



 Components of Power BI

Components of Power BI
Power Query 
Power Query is the data transformation and mash up the engine. It enables you to discover, connect, combine, and refine data sources to meet your analysis need. It can be downloaded as an add-in for Excel or can be used as part of the Power BI Desktop.
Power Pivot 
Power Pivot is a data modeling technique that lets you create data models, establish relationships, and create calculations. It uses Data Analysis Expression (DAX) language to model simple and complex data.
Power View 
Power View is a technology that is available in Excel, Sharepoint, SQL Server, and Power BI. It lets you create interactive charts, graphs, maps, and other visuals that bring your data to life. It can connect to data sources and filter data for each data visualization element or the entire report.
Power Map 
Microsoft's Power Map for Excel and Power BI is a 3-D data visualization tool that lets you map your data and plot more than a million rows of data visually on Bing maps in 3-D format from an Excel table or Data Model in Excel. Power Map works with Bing maps to get the best visualization based on latitude, longitude, or country, state, city, and street address information.
Power BI Desktop 
Power BI Desktop is a development tool for Power Query, Power Pivot, and Power View. With Power BI Desktop, you have everything under the same solution, and it is easier to develop BI and data analysis experience.
Power Q&A
The Q&A feature in Power BI lets you explore your data in your own words. It is the fastest way to get an answer from your data using natural language. An example could be what was the total sales last year? Once you've built your data model and deployed that into the Power BI website, then you can ask questions and get answers quickly.
Now, let's dive into understanding the Power BI features.

Following are some of the features of Power BI -

Power BI Desktop 
Power BI Desktop is free software that you can download and install, and it allows you to build reports by accessing data easily.
 For using Power BI desktop, you do not need advanced report designing, or query skills to build a report.
Stream Analytics 
Power BI's primary advantage is its support stream analytics. 
From factory sensors to social media sources, Power BI assists in real-time analytics to make timely decisions.
Multiple Data Sources 
Support for various data sources is one of the vital features of Power BI. You can access various sources of data such as Excel, CSV, SQL Server, Web files, etc. to create interactive visualizations.
Custom Visualization 
While dealing with complex data, Power BI's default standard might not be enough in some cases. In that case, you can access the custom library of visualization that meets your need

 Architecture of Power BI

Power BI Architecture
BI-architecture

Power BI architecture is a service built on top of Azure. There are multiple data sources that Power BI can connect to. 
Power BI Desktop allows you to create reports and data visualizations on the dataset. 
Power BI gateway is connected to on-premise data sources to get continuous data for reporting and analytics. 
Power BI services refer to the cloud services that are used to publish Power BI reports and data visualizations. 
Using Power BI mobile apps, you can stay connected to their data from anywhere. Power BI apps are available for Windows, iOS, and Android platforms.

Power BI Service
Power BI service is the Software as a Service (SaaS) part of Power BI. It is also known as Power BI Online. To access Power BI Service, you need to log in to Power BI service. 

Power BI Dashboard
Power BI Dashboard is a single page visualization to tell a story. The visualizations on a dashboard are generated from reports, and each report is based on one dataset. A single page dashboard is known as a Canvas. Below is a Finance Dashboard published on Power BI Service.

dashboard

The visualizations you see on the dashboard are called Tiles and are pinned to the dashboard by report designers.

dashboard-2

Power BI allows you to create different reports on Power BI Desktop. These reports can be published on the Power BI dashboard using the Power BI service. A Power BI report created on Power BI Desktop can be published on to Power BI Service by clicking on the Publish button. 



 Building Blocks of Power BI

The major building blocks of Power BI are: dashboards, reports, workbooks, datasets, dataflows, and apps

 Overview of Power BI Desktop

 Power BI Desktop is a free application you install on your local computer that lets you connect to, transform, and visualize your data.

 Data Sources in Power BI Desktop

Following are the available data sources in Power BI −

Flat Files
SQL Database
OData Feed
Blank Query
Azure Cloud platform
Online Services
Blank Query
Other data sources such as Hadoop, Exchange, or Active Directory


Connecting to a data Sources
To get data in Power BI desktop, you need to click the Get data option in the main screen. It shows you the most common data sources first. 
Then, click the More option to see a full list of available data sources.

UEFA European Championship-----search for it ---copy the url-----connect with it.--- lets say i want result column

Now,power querry editor--- for different table operations from adding columns,to merging tables,null value removal,etc.

For getting the query editor, go to report view,---in tools option-- transform data---and u get the query editor.

In the data modelling part we cannot do etl process. The data model part can be used in dax queries to add new column or make new table.
i.e. we cannot do transformation part on data modelling view.


Vehicle Sales Analysis using Power Query
 Clean and Transform your data with Query Editor

Using transform data option, query editor allows us to clean and transform data like,
merging col, splitting col, renaming col, changing data type of col, change table name, 
removing null values, removing duplicate values and many more. 

So in scraped data UEFA European Championship results[edit] data--
i changed the name of the table  using power query editor.

In the left i can see that name of my table is changed.

Now lets say i only want year and final winner list column

Just click on col u want year + ctrl + final.
right click on year--- remove other cols.

Show renaming of col to year and winners.

To remove null values-- click on filter next to col name-- deselect null--ok
or click on winners col name filter---text filters-- does not equal-- leave it balnk only--- ok

Then I dont want [c] part in year col.--
click year---right click--- replace value--- [c] with leave blank---ok

Now lets say i want to change the datatypeof year.

Now I want to apply allthese changes at the desktop level.
SO do closeand apply  


 Combining Data – Merging and Appending

 Add columns

 Using Query Parameters

Super-retailer---- AV

Fact Table--- load----------- rename by clicking fields on right--- Sales table

Data View and Formatting Columns-----

Default view is report view--- click on data view on left---  data view is to see data , u can even apply filters.

Postcode is numeric--- click on col name postcode-- data category on ribbion-- postal code----

Then  we want sales price and cost price into australian dollars--- format--- currency---- click $ sign on ribbion--- click english(australia)


This dataset captures sales trx by month from jan 2016 to aug 2017.

It also has infor about where product is sold ,sales price and cost price. We can have total profit,total revenue of goods sold.
We can always cal these using calculated measures and columns.

Before that we will create report using min visualization.

U can save ur work by ctrl+s or save. Extention is pbix- power bi extension file.

Go to report view,--- drag total units somewhere on page-----col chart appears--- u can goto visualization and select card visual--resize and place in top
left corner. NOw to deselect left click on white pane of visual.
Next-- distribution of quantity sold by each chain--- Pie chart-- Goto visualization pane-- click on pie chart-- total units inot values, chain into legends.

Formatting a chart---click on pie chart-- under visualization  click on brush---legend top left----text size--12--- General propoertuies--- align to center--
increase font size to 16--- visual--- data value--- value decimal places change from auto to 2, u can change font to 12

U can try other formatting options too.

Next, knowing how much each category sales--- select horizontal clustered bar chart--- drag category into axis-- total units to x axis---

resize chart and format.

Now most critical feature of any bi tool is to have filtered report view.

This is our minimilastic rport. Next we will see how to publish it.

Power bi workspace called power bi service. it is a s/w as a service component of power bi. It helps you to share reports with your colleagues, to collaborate,
and view certain reports.


Create login id for powerbi service-- app.powerbi.com--

email-fake.com---
e.g.--dash.bi@codk.site---generate new email---- copy this email--and use to copy into and sign up---the code sent from here will be sent to fake email addr--
--next---get started--next----now select try free option---next---do till keep your account secure qr code page-- 
--Now it will ask u to download appon mobile--download that--next--The next step will be on app--next---Now, select add acount on phone---select 2nd option--
---select qrcode---scan qr code on site--if u cant scan it, then the option of cant scan imageis also there--then add code and url ----next--moile notification
for approvl---success--



Now goto report view, where u have yr report prepared---- click on publish---- now power bi will ask u to select the destination. If u already have created the workspace,then u can select that one, else click on my workspace and click on yellow select button.
when publishing is finished, u receive a link-- goto that link-------click it--------- the report opens in a browser---

Now if u have power bi pro liscence u can directly share your work with specific peopple in organization or just copy the link or share the link with individuals.
If u donot have, then it will ask u to try power bi pro.

Now in the power bi service, u can create ur workspace by clicking on workspace on left--- This helps in organizing reports well.
U can also export into power point excel or a pdf-- lets say pdf-- then pdf created

Power bi service can be use to create dashboards and interact with them so that it can be distributred as an application and can be viewed in ur mobile phones


Data modelling and using power bi to deal with multiple data sources---

Data model consist of either 1 dataset or multiple datasets. It also tells relationships and apply some formulas which tells the business rules to extract business insights.

The schema is the skeleton of ur data.The simplest is the star schema. It consist of a fact table that records events such as sales orders,prices, etc. A fact table contains repeated values. The dimension table contains details about the data
Fact tables are usually much larger than the dimension tables . The schema helps in creating and maintaining the reports.

Relationships and cardinality--
Here we wwill import a dim table in power bi and establish a relationship with the sales table.
SuperRetailer.pbix----
g get data-----------regions table----load--

In the fields u can see regions table above sales table---

Now, go to data model to categorize region cols to relevant category. They all seem postal code---
state--- state or province
suburb-- city
postal code-- postal code

Next moving to model tab or relationship tab--

NOw for understanding, lets first delete the relationship.

The common cols in each pair of table are called as keys. The primary key for regions table can be post code because it seems unique and not null. PK for sales table ? NOt available.
Now we will create the relationship on common cols.
1-to-many is cardinality-- i.e post code col in regions has unique values which may or may not be repeated in sales cols.
Other cardinalities are 1-1, many-many, many-1.

The arrow on the relationship says that we can analyze the sales table based on relatioship table but not the other way round.
By inserting slicers and creating reports u will get the clear picture.

Now, going to reports view, inserting slicer

So getting state wise units sold-- insert slicer--- put states col in field-- now the slicer build on regions table can be used to filter rows from sales. This happens becuase of reltionship direction. 

U can see managers, buyers and date tables to check if power bi is able to establish the relationship.

Managers table gets related to regions table.
This type of schema is generally referred to as a snow flake schema. But deleting this relationship to create a star schema as it is much easier to understand. 
managers postal code to sales table posatal code

NOw, dates table doesnt relate to sales table. So we will build a relationship manually. SO date to sales table date.

So this is our data model for the dataset that we are working on.

Fact table is in mid which is related to other dim tables.

Creating calculated cols--
Now using these tables , we will prepeare report using all the data sources we have at our doisposal.

We have some missing piece of info in our sales table like monitary value of goods sold or the profits generated.

SO 1st filling up these info before working with all the datastes.

We will create these variables by calculating new cols in the sales table. These are excel like formulas, commonly called as DAX, To create calculated col using DAX, Go to the data view, click on sales table---  go to table tools---- new col---  creating a new col is available as both table tools and column tools-- u can use any -- u can also do this by right click on fields--sales table--
 Now, instead of excel which performs cell by cell calc of formulas and requires dragging the formula, powerbi doesnot do so. It does on col level.

Revenue='Sales Table'[Sale Price]* 'Sales Table'[Total Units]

Change the formatting to currency, decimal places instead of auto -- 2.

This is our calculated auto column.

Now, calculating profit--
Profit=('Sales Table'[Sale Price]-'Sales Table'[Cost Price])*'Sales Table'[Total Units]

formatting same as revenue


Building Reports with multiple tables to know where super retailer stands in terms of its business performance.---

So creating a new report sheept, rename the overall summary. Earlier one lets say unit summary. 

In overall summary-- import kpi visual---

Trend axis-- date-- 
value---  revenue
Target-- revenue

This says that the goal of achieving $6.37 M has been met with 0% grievience.

Area chart give date vise revenue.

Now, removing revenue from target and we get grey color again.

Next we will include a line and clustered col chart. In this chart we would show how a revenue and profit chart looks like over the financial quarters from quarters 2016 Q3 to 2018Q1.

Click on Dates--FY Qtr-- X-axis
col y-axis-- sum of revenue
line y axis-- profit

U can format it accordingly- u can show data labels.

Next is donut chart--

In this we will see distribution of revenue by chain. legend-- chain , values-- revenue

visual-- colors-- u can choose any colors.

Next is a map or a field map-- 
location -- state code
Now we dont have any latitude and lonitude field so we will keep it blank.
Now, in the regions table we will ask power bi to pick states from australia.

So, data model-- click on regions table-State,Country= Regions[State]&", Australia"----- categorize this col as place-- i.e. ribbion-- data category-- place
this is simply the concatenation.

Now, in the report view, in location put state , country.

Now, going to format tab-- general-- fill colors-- we will colors tab as a function of revenue---
What field should we base on--- sales table--- revenue---- set min colr to red and max to green -- this gives diverging colors--- ok

Now in the tool tips--put revenue-- so when we hover over the areas we get revenue.

NOw, including a column chart-- to show the distribution of units by category. y-axis-- category , x-axis-- total units
Now, we will use the color of the bar so that we can utilize another dimension to see how the contributors of quantity goes with the revenue.

So, coloring the bars using the function of revenue-- foramat-- visual-- bars-- colors-- function-- sale[revenue]--- same diverging colors as map-- ok

Home category sells the most. Mens category and shoes are the biggest contributors to the revenue. So we can target these two categories to increase revenue. In contrast, to increase market presence they can focus on the home category.

Finally we will include a couple of card visualizations to dispaly what is the total revenue and the profit earned over the period of time.

Then including a slicer by state and for financial year.

Another important metric for business is evaluating the percentage of profit or the margin percentage.

lly, a year on year performance of key metrics are also missing.  

So moving to advance tabs calculation. To prepare these metrics with measures that are dynamically calculated at any detail the user asks for. 

U can rearrange this report.

Measures---

Is the percentage of revenue getting converted into profit. That is margin percentage.
lly, wants to know about year on year or month wise growth. So using measures.

NOw how is it different from calcualted cols?

Data Analysis Expressions (DAX) is a programming lang that is used throughout power bi for creating calculated clos, measures and custom tables.

Calculated cols using DAX--
- add new data to a table already in your model.
- no need to query and load values from a data source.
- create a DAX formula to define col values

This is helpful in feature eng new cols.

for eg-- revenue= quantity*unit price.
here calcs are happening row by row. However,
margin%=profit/revenue
profit=(sales price - cost price)*qunatity
revenue=sales price*quantiy

Now, if someone asks u what is the margin % for men's category?
Here we require a weighted average rather than a simple avg.

So, we can use measures- which instead of operating on a row by row field like calculated  cols, aggregates on the detail that we ask for.
 Hence it is less computationally expensive
then a row by row calculation. And the results are not stored anywhere until we asks for.

So,measures are used in aggregation calcs such as sum, avg,min,max, counts or more advanced calcs  made using DAX formula.

Creating our 1st measures--

Now, we are on report view, under home tab u will see new measure.
SAme option is also available on the calculations are of modelling tab.

Alternatively u can also click on the elipsis next to sales and click on new measure.


So, Report view-- modelling-- new measure--

Margin%= sum('Sales Table'[Profit])/SUM('Sales Table'[Revenue])

i.e. for any detail that u want, sum up the profit and then divide by sum of revenue.

Now, even if u goto data view, nothing has been created.

So going to report view and place another card
with the margin % and place it right at the top along with the profit and revenue. This value requires a bit of formatting, so we will click on the measure margin %  ---- and under the measure tools ribbion we will click on %.

Now insert a new card and put margin% in that in the report view.

Next, go to a new report page and include a table. So-- visualization-- table
columns-- category, margin%

Now lets sort the data based on descending order of margin%-- for sorting just click on margin.  Accessories is the highest margin% for the business. Lowest one is groceries.

Infact, highest selling category i.e. home has a low margin% of 34% compared to the overall avg of the business that stands around 45%.

U can create measures for profit and revenue and call them profit measure and revenue measure. What formula u will use.

Now, using formula to create row by row operations---

Measures are fields that aggregate over the context specified. However if u try to create a measure for lets say revenue and write formula total units * sales price --- power bi will not let us write this and give error becuse there is no aggregation operation that is taking place.

Alternatively if u use a formula like -
revenue measure = sum('Sales Table'[Total Units]) * sum('Sales Table'[Sale Price])---- but this will not be correct--- u can check this by keeping a revenue and revenue measure field on the visualized table.

So now in cols we have -- category, margin %, sum of revenue, revenue measure -- U can format-- values and give size to 12 or 13.

So, to our rescue we have a function called as sumx that retiurns the sum of an expression that is evaluated for each row in a table. SumX
takes couple of args like table and expression.

revenue measure = SUMX('Sales Table','Sales Table'[Total Units]*'Sales Table'[Sale Price])

BUt revenue and revenue measure both are giving same distribution as we can see in table. SO which one to use? MEasures take up less memory.
SO when size of data is large, it does matter.

If u r categorizing say text or numbers, binning the ages into 0-18,19-36,etc that needs to be operated on a row by row fashion then u have to use a calculated col and not measure.
but for calc % or ratios at any level of detail, u need to use measures strictly like sumx and other mathematical op can also be performed on a row by row fashion with the help of countx, maxx etc.  Sow for rob by row -- we need SumX and all formula.


Growth rate for the same period last year and difference between targets and goals achieved.

Calculate function---
First, lets undersatnd when to use it, then how to use it.

Businesses wants to evaluate where they satnd in terms of the target set and the goals achieved.

Lets say super retailer kept a target of generating 5% more revenue then the last month.

In the table where we generated monthly revenue
lets say i create another table in a different page and i put year, quarter,month,day,revenue--

Now our target will be 1% higher than the last month. Tf we will use claculate function. we will create a measure called target revenue.

target revenue = CALCULATE([revenue measure],PREVIOUSMONTH(Dates[Date]))*1.05

Now go to overall summary page. In the sum pf revenue kpi field's target put target revenue-- and u will see it turned green telling the reuslts are good and exceedde the information.

Now, calculating revenue variance-- which is the difference between the difference between target revenue and the realized revenue.

revenue variance = [revenue measure]-[target revenue]

Now, revenue variance has +ve value for 1st month even though the target revenue is missing.
So we will modify the formula a bit and use excel like if else condition.

revenue variance = IF(ISBLANK([target revenue]),BLANK(),[revenue measure]-[target revenue])

This is not the statistical measure of variance, instead business measure of the diff bet target and the actuals.

A clean way to visualize this is using waterfall chart.

So create a new sheet and name its measure validation--

Click on waterfall chart---
category-- date
y-axis-- revenue variance

Click on all level down expand button which comes with plot in the visualization pane.

From the category field remove day and quarter, bcoz we dont need it.
include the data labels.
reds are the months where goal was not achieved. Green where we exceede our goals. Blue part represents total variance across months.
The business exceede the target revenue by $1.5 Million. 

Time intelligence functions---
previous month we saw KPI year to date or quarter to date indicators YTD or QTD need time intelligent functions.

Stakeholders works with target earnings in mind.And they want to compare how there year have progressed so far. Are we on track or do we need more aggressive strategies to bring business on track.

create a new visualization page-- put date in cols and revenue measure.

on 2016 qtr 1 march 1 $272510186 is the running total of jan feb and march.

Thought ytd refers to running total, but ytd resets itself whenever the year changes. So to calc the ytd indicator, we will create a new measure call it revenue ytd and will use totalytd fun of powerbi.

So, new measure-- revenue ytd--

Revenue YTD = totalytd([revenue measure],Dates[Date])

now put this and see, revenue for 2016 continues til december and with new year.

Now, in an area chart we can plot YTD. So insert area chart.
x-axis month. legend year,y-axis- revenue ytd

current year ytd no. in dark blue, last year in light blue. For aug 2017, the performance is significantly better than the last year.

But is it the same across categories, so applying category slicer.

We can see hosiery category is almost at par with last year. For women's category significantly under performing. This can be a category to focus on in this year.

similar to ytd we can also have qtd , mtd, etc

Another kpi that we can have is year on year kpi.

So new visualization page--Revenue YOY KPI, put date hierarchy on col and revenue measure

Now we will calc revenue last year measure--- calc func with same period last year--

Revenue LY= calculate([revenue measure], SAMEPERIODLASTYEAR(Dates[Date]))

Furthre we will cerate YOY revenue change measure--

YOY Revenue Change = IF(ISBLANK([Revenue LY]),BLANK(),[revenue measure]/[Revenue LY]-1)

put YOY revenue change in cols of table.
put column chart from visualization.
X axis-- year and month,
y-axis-- YOY Revenue Change

format columns- colrs-- fx --YOY Revenue change select colors

U can even insert slicers to see category wise story.

Creating reports with measures---

First, we will create a visualization page where we kept all our date wise analysis.
Where we will copy waterfall model from measure validation, area chart from revenue ytd kpi, bar chart from revenue YOY kpi . This page doesnot require any slicer as it works on dates. We can delete rest of the pages as those are used to understand the concept.

So our 2 page report is-- overall summary and date wise analysis

. Next we will have another page. Here we will see scatter plot. It is used to study the relationship between 2 variables. The 2 variables are plotted on x and y axis.
On the y-axis lets include margin%
x-axis revenue measure.

1 point is getting displayed which shows total revenue and margin% for the whole year.
Now, to deep down further, we can introduce category on the legends.
For the size of these bubbles we will include totla units.
format category label on

Hosiery, INtimate and Acccesories can grow profits.

play axis on the scatter plot -- quarter

u can see how category evolved with quarters.

Namining this sheet category deep dive.

Filters in power bi reports--

Applying filter to a visual to get into any level of detail. In the overall summary page we used the slicers to reduce the list of values that are displayed.

For eg in overall summary if we select NSW then the graphs we show info accordingly.

LLY, we can choose any financial year to show the statistics for the correponding year in dates associated with the financial year.

So, slicers work on the concept of visual level filters for all the charts in the page that reduce the list of values that are displayed in all the visuals in the page that are connected to the slicer. Slicer connections can be tweeked by selecting the slicer , clicking on format tab in ribbion and then edit . U can expore this further.

Now if u select any part from the map.. then other graphs too change, This is known as cross highlighting. 

An alternative way of using filter is to use filter pane that is present on the right bhabd side of report. Select any chart, u will get the filter pane. It has 3 kinds of filters. Are the visula level filter. If I want to see 1 specific category in bar chart, then only this graph will be changed and rest of the graphs will not be disturbed as this filter is for this chart only. Then Page level filter-- this is not specific to any chart but to whole page.
Lets say we want to see only for those trxs where profit is +ve. In that case u can get
profit col to the page level filters and under advanced filter option, say show all items when value > 0.

Then report level filter is the final level of filter , it will be applied to all the pages of report. If u apply a filter, it remains applied to the page or report once u publish ur report and u will get to see the filter pane along with the published report.

Hierarchy and drill models--
drill down functionality--
Managers table-- sales achieved by an area sales manager using bar chart.

So, on new page include clustered bar chart -- manager on y-axis, revenue x-axis.

Now, each area is manegd by an area manager , the are ahas some suburb.
So we wiol create a hierarchy consisting of manager and then suburb managed by the manger.

Click on ellipsis next to managers col and say create hierarchy. Then click on eelipsis next to suburb and click on add to hierarchy--->manager hierarchy

Now, from the visual , from yaxis remove manager col and add manager hierrachy. The drill down button appears at the bottom.
Now if u click on single down arrow, it turns black. Then click on bar of John Gardner and we can drill down to all the 6 areas he is managing. To go up , click on up arrow.
Clicking on Alex Nash we can see he is managing all .

If u click on double arrow it will give u revenue by suburbs but doesnt include managers managing the same. The fourth arrow include both infromation.

Parameters--
Scenario modelling plays the crucial role in helping businesses  analyse what could possibly happen. This is what-if analysis.

Parameters are specific values that help define behaviour of a system. If a value of parameter change, the system may too.
Lets say the scenario is how much revenue will change if they change prices of products. We will do this with parameters.

Creating measure Avg Sale Price --
Avg Sales Price = sum( 'Sales Table'[Revenue])/SUM('Sales Table'[Total Units])-- this way weighted avg price is calculated rather than simple avg.

Column and line chart combo for x-axis--category, y-axis - avg sales price, line-- revenue.
Next goto modelling ribbion-- under what if section-- new parameter--
name-- Price Change %
data type-- decimal number
min value-- -0.2 i.e. -20%
max value-- 0.2 i.e. 20%

increment value of 1% or 0.01 default=0
.

A movable slicer has been added. Additionaly in the fields u can see price change %.
Now we will create another measure to tell units change %.
datatype-- decimal number. min-- -0.4 max- 0.4
increment-- 0.02 default 0 ok

Now creating simulated revenue measure--- press alt enter to change line in formula

Simulated Measure = SUMX('Sales Table',(
    'Sales Table'[Sale Price] * (1 + 'Price Change %'[Price Change % Value])) * ('Sales Table'[Total Units] * (1 + 'Units Change %'[Units Change % Value]))
)


then put simulated measure in col y-axis. bring both slicers to 0. This is just like plug and play.


Data Storytelling--
Key components of BI are--
data preperation and modelling,
data mining,
visualization and reporting
querying
descriptive analysis
performance metrics and benchmarking

To help make better decisions.

Our prob stmt is - an australian retails sales organization wants to use data driven decision making for creative revenue growth management strategies.

Shapes and buttons--
search power bi data stories gallery.

Managing roles--
Files are not shared on pbix format.
Instead they are shared using power bi app.
Role mgmt by providing row level securiyt which means we want to secure various rows of the dataset for different users.

then we share report to users over email.

Under data view in managers we will create a col with sample email id.
Email = IF(Managers[Manager] == "John Gardner", "starkive10@hieu.in", BLANK())

Home tab-- manager roles--roles - John Gardner -- managers table-- DAX expressions--[Email] = USERPRINCIPALNAME() 
Once this is done we will publish this report on power bi server.

Now goto publish--- and reports are published--
Now under my workspace, under the dataset-- we will try to change the security settings--clicking on ellipsis-- row level security-- but there are no email addresses. So we will go ahead and add the email address for john gardner which is -- now go back to workspace and report view-- and then finally using share item we share to the said email address.

John Gardner will see only the report of areas that he manages.

Power bi gateway for data refresh--
Power bi reports is refreshed . So to get refreshed data on power bi service too, we need to establish power bi gateway to connect on premise data source with published gateway.

Got power bi service--download-- gateway-- download personal mode---

Power query-------

ETL tool for power bi-- Extract transform and load
Extract data from single or multiple sources---> transform data to make it ingestible for analysis-- this is where power query transformations options come in--it keeps track of all the steps performed before making it handy--- then we load data in power bi tables to create data model---

https://www.rbi.org.in/Scripts/ATMView.aspx?atmid=146  --- march 2021
--- click on the excel button on the webpage to download this file.

In the downloaded file there are alot of blank spaces around the table. Some of the cols are merged and there are few rows  that contains sub totals and even the totals of the previous rows. There is further info about the data right at the end of the rows which we donot require. This is only for developing and understanding of data.

march 2021 excel file--- transform---
Now u will see some applied steps -- which are performed by power bi-- click on cross on last 2 transformations.

We changed the col headings.

Now col 14 to col 18 represent the debit card number. Probably we donot need that for our analysis. SO click on them by ctrl , right click, delete col.

Now our top 4 rows are of no use. So, click on the table box just next to bank name col-- remove top rows-- 4

Now, there are some banks which are private sector, public sector, foreign banks. We want this information as a seperate col.

So, add column--- col from example-- from selection--- On two rows write Public Bank, then Private Bank the foreign Bank

Then right click on col-- fill-- down

The first value of col is still null because we have not replaced it from above.

Now, we have total at the end and we need to filter the bank name col. Select drop down next to bank name---- deselect all the options which has lower case letters---- ok

And now we have data with all our bank names.

Next is changing datatypes-- ctrl + all the cols with numeric value--- go to transform ribbion---- under datatype-- detect datatype

Now, notica that no null value is there.

Pivoting or unpivoting the data---

select bank name + ctrl + custom col---- press right click on custom and choose unpivot other col--- 
In th result we get bank name and custom col as it is, rest of the values are squeezed as attribute and value. Sometimes this step is required in the data. BUt in our case we donot require it so we will just remove this step from applied steps.

Our data is now clean so goto home ribbion---- close and apply

Now, the cleaned data is loaded in power bi and u can use it for visualization. 
U can even use power query to merge datasets, combine queries and infact create a complete data flow for your organizational data.

Using power query to manipulate data---
Power query is an inbuild etl tool in power bi which is used to clean and transform the data.

